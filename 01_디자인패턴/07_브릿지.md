# 브릿지 (Bridge) 패턴

## 브릿지 패턴이란 무엇인가요?

추상적인 것과 구체적인 것을 분리하여 연결하는 패턴이며, 추상화(abstraction)를 구현으로부터 분리하여 각각 독립적으로 변화할 수 있도록 합니다.

"두개의 다른 계층(하나는 추상, 하나는 구현인 서로다른 계층의 커플링을 약화시키며 협력은 가능하도록 하는 패턴"

![image](https://user-images.githubusercontent.com/50647845/167752464-fe8148db-cbdd-41ca-8b0a-7d4c5d1d36dc.png)

- 사용측에서는 구현체를 사용하지 않고 추상적인 계층만을 사용하게 됩니다.  
- 여기서 Abstraction은 고차원의 추상적인 로직을 담고 있는 클래스이며, 추상체 덕분에 해당 개념들은 다양한 변형체 또는 다른 계층구조로 확장될 수 있습니다.  
- Implementation은 구체적인 정보, 상태, 액션 혹은 플랫폼에 특화된 코드를 담으며, concrete implementation으로 구체화된다.

### Abstraction

- 기능 계층의 최상위 클래스이며 추상 인터페이스를 정의한다. Implementation에 대한 레퍼런스를 유지한다.
- 구현 부분에 해당하는 클래스를 인스턴스를 가지고 해당 인스턴스를 통해 구현부분의 메서드를 호출한다.

### RefinedAbstraction

- Abstraction에 의해 정의된 인터페이스를 확장한다.(extends)
- 기능 계층에서 새로운 부분을 확장한 클래스이다.

### Implementation

- 구현 클래스를 위한 인터페이스를 정의한다.
- Abstraction의 기능을 구현하기 위한 인터페이스 정의한다.

### ConcreteImplementation

- Implementor 인터페이스를 구현 즉, 실제 기능을 구현한다.

## 예제 코드

- Abstraction : 직업
- RefinedAbstraction : 군사, 도사
- Implementation : 파벌
- ConcreteImplementation : 정파, 사파

- Implementation : 파벌
```java
public interface 파벌 {
    String getMainEffect();
}
```

- ConcreteImplementation : 정파, 사파
```java
public class 사파 implements 파벌 {
    @Override
    public String getMainEffect() {
        return "검은색";
    }
}
```

- Abstraction : 직업
```java
public interface 직업 {
    void 비룡장();
    void 허공답보();
}
```

```java
public class 기본직업 implements 직업 {
    private 파벌 f_파벌;
    private String name;
    
    public 기본직업(파벌 f_파벌, String name) {
        this.f_파벌 = f_파벌;
        this.name = name;
    }
    
    @Override
    public void 비룡장() {
        System.out.printf("%s의 %s 비룔장\n", this.name, skin.getMainEffect());
    }
    
    @Override
    public void 허공답보() {
        System.out.printf("%s의 %s 허공답보\n", this.name, skin.getMainEffect());
    }
}
```

- RefinedAbstraction : 군사, 도사
```java
public class 도사 extends 기본직업 {
    public 도사(파벌 f_파벌) {
        super(f_파벌, "도사");
    }
}
```

- 실 사용 예시
```java
public class Main {
    public static void main(String[] args) {
        직업 f_도사 = new 도사(new 사파);
        f_도사.비룡장();
        f_도사.허공답보();
    }
}
```

## 어댑터 패턴과 다른 것은 무엇인가요?

두 패턴 모두 Interface의 detail을 감추고자 하며, 구조적인 차이가 없으나, 어댑터 패턴은 서로 다른 두 가지를 연결하는 것이라면, 브릿지 패턴은 추상적인 것과 구체적인 것을 연결합니다.

## 브릿지 패턴의 장점과 단점은 무엇인가요?

장점

- 추상적인 코드를 구체적인 코드 변경 없이도 독립적으로 확장할 수 있다.
    - OCP객체 디자인 원칙을 준수할 수 있다.
- 추상적인 코드과 구체적인 코드를 분리하여 개발할 수 있다.
    - Single responsebility

단점

- 계층 구조가 늘어나 복잡도가 증가할 수 있다

## 브릿지 패턴의 예시는 무엇인가요?

- JDBC API, DriverManger와 Driver
  - 새로운 DB가 추가되어 Driver가 추가되어도 추상화 되어있는 곳은 변경이 되지 않는다.

### 참고자료

출처: https://www.crocus.co.kr/1537 [Crocus]
