# 싱글톤 (Singleton)

## 싱글톤이란?
하나의 클래스에 오직 하나의 인스턴스만 가지는 패턴이다.<br>
하나의 인스턴스를 만들어 여러 모듈들이 공유하며 사용한다.

## 싱글톤 예시 코드
```java
public class Singleton {
    private static final Singleton instance = new Singleton(); //생성자를 한번은 호출해야 하니까 직접 넣어줌

    private Singleton() {
    }  //외부에서 생성자를 호출하지 못하게 private으로 설정

    public static Singleton getInsatance() {
        return instance;
    }
}
```

## 싱글톤을 사용하는 곳
> 데이터베이스 연결 모듈에 많이 사용된다.<br>
> ex1) Node.js에서 MongoDB데이터 베이스를 연결할 때 쓰는 mongoose 모듈 <br>
> ex2) Node.js에서 MySQL 데이터베이스를 연결할 때

## 싱글톤의 장점은?
- 하나의 인스턴스만을 만들기 때문에, 고정된 메모리 영역을 사용하여 메모리 낭비를 방지할 수 있다. 
- 싱글톤 인스턴스는 전역으로 접근 가능하기 때문에, 데이터 공유가 쉽다.

## 싱글톤의 단점은?
- 모듈들간의 의존성이 높아진다. 따라서, TDD(Test Driven Development)를 할 때 문제가 된다.
- 멀티스레드 환경에서 동시성 문제 해결을 위해 'syncronized'를 사용해야 한다.

## 싱글톤의 단점을 해결하기 위해
의존성 주입을 한다.
메인모듈 하위에 의존성 주입자를 추가하여 의존성 주입자가 모듈들을 관리하면, 하위 모듈에 대한 메인 모듈의 의존성이 떨어진다.

## 싱글톤 대신 정적클래스를 사용하면 되지 않나?
정적클래스를 사용하면, 성능면에서 우수할 수 있으나 interface의 사용이 불가능해진다.<br>
이는, 테스트용 객체를 사용할 수 없게 만들어 효율적인 단위테스트를 방해할 수 있다.
